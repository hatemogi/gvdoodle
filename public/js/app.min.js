(function(){var a;a=angular.module("gvdoodle",[]),a.controller("EditorCtrl",["$scope","$http","$sce",function(a,b,c){var d,e,f;return window.editor=d=ace.edit("editor"),d.setTheme("ace/theme/tomorrow"),d.getSession().setMode("ace/mode/dot"),d.focus(),this.engine="dot",this.preview="preview.svg",this.engines=["dot","neato","fdp","sfdp","twopi","circo"],f=this,f.isLoading=!1,e=function(b){return a.svg=c.trustAsHtml(b),f.show_preview=!0,f.isLoading=!1,console.log(["success",b])},this.loadSaved=function(a){return b.get("/"+a+".svg").success(e)},this.run=function(){return f.isLoading=!0,b.post("/preview",{text:d.getValue(),engine:f.engine}).success(e).error(function(a){return console.log(["error",a])})},this.publish=function(){return f.isLoading=!0,b.post("/publish",{text:d.getValue(),engine:f.engine}).success(function(a){return window.location.href="/"+a.gvid}).error(function(a){return console.log(["publish error",a])})},this.img_load=function(a){return console.dir(a)},this.load=function(a){return b.get("/"+a+".gv").success(function(a){return d.setValue(a),d.clearSelection()}),b.get("/"+a+".meta").success(function(a,b){return a&&a.engine&&(f.engine=a.engine),b}),f.svg_url="/"+a+".svg",f.show_preview=!1,a},this}]),a.directive("resizable",function(){return{link:function(a,b){return b.bind("load",function(){return console.dir([b[0].width,b[0].height])})}}})}).call(this);
//# sourceMappingURL=app.min.js.map